# Ghost Wallet Hunter - Split Services Deploy
# Two separate services for optimal resource usage

services:
  # Service 1: Julia Core Server (Heavy computation, AI, DB)
  - type: web
    name: ghost-wallet-hunter-julia
    runtime: docker
    plan: starter
    dockerfilePath: ./docker/Dockerfile.julia
    rootDir: juliaos
    envVars:
      - key: JULIA_VERSION
        value: "1.11.6"
      - key: ENVIRONMENT
        value: production
      - key: PORT
        value: "8052"
      - key: HOST
        value: "0.0.0.0"
    healthCheckPath: /health
    autoDeploy: true
    branch: main

  # Service 2: A2A Protocol Server (Lightweight communication layer)
  - type: web
    name: ghost-wallet-hunter-a2a
    runtime: docker
    plan: starter
    dockerfilePath: ./docker/Dockerfile.a2a
    rootDir: juliaos
    envVars:
      - key: JULIA_HOST
        value: "https://ghost-wallet-hunter-julia.onrender.com"
      - key: A2A_PORT
        value: "9100"
      - key: HOST
        value: "0.0.0.0"
      - key: ENVIRONMENT
        value: production
    healthCheckPath: /health
    autoDeploy: true
    branch: main
